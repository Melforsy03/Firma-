<div class="card">
    <h2>Firma Digital</h2>
  <!-- Formulario de datos -->
  <div class="p-field form-group">
    <label for="password"></label>
    <p-password 
      id="password" 
      [toggleMask]="true" 
      [(ngModel)]="formulario.password" 
      name="password"
      [feedback]="false" 
      placeholder="Introduce contraseÃ±a"
      class="form-input">
    </p-password>
  </div>
  
  <div class="form-group">
    <label for="name"></label>
    <input
      id="usuario"
      type="text"
      placeholder="Nombre"
      [(ngModel)]="formulario.name"
      [ngClass]="{'input-error': formulario.name.trim() === ''}"
      class="form-input"
    />
  </div>
  
  <div class="form-group">
    <label for="username"></label>
    <input
      id="apelido"
      type="text"
      placeholder="Usuario"
      [(ngModel)]="formulario.username"
      [ngClass]="{'input-error': formulario.username.trim() === ''}"
      class="form-input"
    />
  </div>
  
  <div class="form-group">
    <label for="DNI"></label>
    <input
    id="applicationId"
    type="text"
    placeholder="ID"
    [(ngModel)]="formulario.applicationId"
    [ngClass]="{'input-error': formulario.applicationId.trim() === ''}"
    class="form-input"
    />
  </div>
  
    <div class="card">
      <p-fileUpload class = "custom-file-upload"
      name="demo[]" 
     (onSelect)="onFileSelect($event)"
      (onBeforeUpload)="BeforeUpload()"
      [multiple]="true" 
      [styleClass]="'custom-file-upload'"
      accept="" 
      maxFileSize="1000000"
      [disabled]="!isFormularioValido()"
      [styleClass]="'custom-file-upload'">
  
          <ng-template pTemplate="content">
              <ul *ngIf="uploadedFiles.length">
                  <li *ngFor="let file of uploadedFiles">
                      {{ file.name }} - {{ file.size }} bytes
                  </li>
              </ul>
          </ng-template>
  </p-fileUpload>
  </div>

  <p-card header="Documentos Firmados" class="p-mb-4">
    <p-table [value]="documentos" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>Nombre del Documento</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-documento>
        <tr>
          <td>{{ documento.name }}</td>
          <td>
            <p-button 
              label=""
              icon="pi pi-download" 
              [text]="true" 
              [raised]="true" 
              [outlined]="true"
              severity="info"
              class="p-button-info"
              (click)="downloadFile('pdf',documento.id)">
            </p-button>
          </td>
        </tr>
       
      </ng-template>
    </p-table>
  </p-card>
  